
------------------------------------------- Auth controller api ------------------------------------------------------------
Create user : curl -X POST "http://localhost:8000/auth/register" -H "Content-Type: application/json" -d "{\"full_name\": \"Jean Dupont\", \"email\": \"jean@example.com\", \"password\": \"monmotdepasse\", \"phone\": \"22222222\", \"state_id\": 1}"
Login user : curl -X POST "http://localhost:8000/auth/login" -H "Content-Type: application/json" -d "{\"email\": \"jean@example.com\", \"password\": \"monmotdepasse\"}"
Obtain user : curl -X GET "http://localhost:8000/auth/user/jean@example.com"
update user : curl -X PUT "http://localhost:8000/auth/user/jean@example.com" -H "Content-Type: application/json" -d "{\"full_name\": \"Jean Dupont Modifié\", \"phone\": \"33333333\", \"state\": \"Tunis\", \"password\": \"NouveauMotDePasse\"}"

Demander un code de réinitialisation de mot de passe : curl -X POST "http://127.0.0.1:8080/auth/request-password-reset" -H "Content-Type: application/json" -d "{\"email\": \"tsarisila@gmail.com\"}"
# (Après avoir reçu le code par email)
Réinitialiser le mot de passe : curl -X POST "http://127.0.0.1:8080/auth/reset-password" -H "Content-Type: application/json" -d "{\"email\": \"tsarisila@gmail.com\", \"code\": \"123456\", \"new_password\": \"MonNouveauMotDePasseSuperSecret\"}"

Envoyer un code de vérification par email : curl -X POST "http://127.0.0.1:8000/auth/send-verification-code" -H "Content-Type: application/json" -d "{\"email\": \"tsarisila@gmail.com\"}"
Vérifier un code de vérification par email : curl -X POST "http://127.0.0.1:8000/auth/verify-email-code" -H "Content-Type: application/json" -d "{\"email\": \"tsarisila@gmail.com\", \"code\": \"123456\"}"


-------------------------------------------- Ticket controller ---------------------------------------------------------
curl -X POST "http://127.0.0.1:8000/tickets/" -H "Content-Type: multipart/form-data" -F "email=silaralph@gmail.com" -F "ticket_number=T789012" -F "amount_usd=75.00" -F "payment_url=https://payment.provider.com/pay/xyz123" -F "dispute_url=https://tickets.example.com/dispute/ABC123" -F "due_date=2025-12-31T23:59:59" -F "description=Stationnement non autorisé" -F "image=@op.jpg"

Liste des tickets : "http://127.0.0.1:8000/tickets/user/jean@example.com"
curl -X DELETE "http://127.0.0.1:8000/tickets/1"
curl -X PUT "http://127.0.0.1:8000/tickets/1" -H "Content-Type: multipart/form-data" -F "status=regle" -F "email=jean@example.com"


----------------------------------------------- Reminder --------------------------------------------------------------------
Create Reminder: curl -X POST "http://127.0.0.1:8000/reminders/" -H "Content-Type: application/json" -d "{\"ticket_id\": 1, \"frequency_days\": 3, \"channels\": [\"email\", \"sms\"]}"
Get all user's reminders: curl -X GET "http://127.0.0.1:8000/reminders/jean@example.com"
Update Reminder: curl -X PUT "http://127.0.0.1:8000/reminders/1" -H "Content-Type: application/json" -d "{\"frequency_days\": 10, \"channels\": [\"push\"]}"
Delete Reminder: curl -X DELETE "http://127.0.0.1:8000/reminders/1"


--------------------------------------------------Plan----------------------------------------------------
Creer un abonnement pour un utilisateur : curl -X POST "http://127.0.0.1:8000/api/subscriptions" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"user_email\":\"test@example.com\",\"plan_id\":1}"
recuperer les abonnements d'un utilisateur : curl -X GET "http://127.0.0.1:8000/api/subscriptions/user/test@example.com" -H "accept: application/json"
Verifier l'etat d'abonnement d'un utilisateur : curl -X GET "http://127.0.0.1:8000/api/subscriptions/user/tsarisila@gmail.com/status" -H "accept: application/json"
surpprimer la souscrition d'un utilisateur : curl -X DELETE "http://127.0.0.1:8000/api/subscriptions/1" -H "accept: application/json"


--------------------------------------------------Admin Plan Management----------------------------------------------------
admin creer un plan :  curl -X POST "http://127.0.0.1:8000/api/plans" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"name\":\"Premium Mensuel\",\"price\":9.99,\"duration_days\":30,\"description\":\"Accès complet à toutes les fonctionnalités pendant 30 jours.\"}"
Lister tous les plans (admin): curl -X GET "http://127.0.0.1:8000/api/admin/plans" -H "accept: application/json"
Mettre à jour un plan (ID 1): curl -X PUT "http://127.0.0.1:8000/api/admin/plans/1" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"price\": 12.99, \"description\": \"Nouvelle description.\", \"is_active\": true}"
supprimer un plan (ID 1): curl -X DELETE "http://127.0.0.1:8000/api/admin/plans/1" -H "accept: application/json"


--------------------------------------------------Device Token Management----------------------------------------------------
Ajouter/Mettre à jour un token d'appareil: curl -X POST "http://127.0.0.1:8000/api/device-tokens" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"user_email\": \"test@example.com\", \"device_token\": \"un-token-unique-pour-un-appareil-android\", \"device_type\": \"android\"}"
Supprimer un token d'appareil: curl -X DELETE "http://127.0.0.1:8000/api/device-tokens/un-token-unique-pour-un-appareil-android" -H "accept: application/json"
Lister les tokens d'un utilisateur: curl -X GET "http://127.0.0.1:8000/api/device-tokens/user/test@example.com" -H "accept: application/json"


--------------------------------------------------Stripe Payment----------------------------------------------------
Créer une session de paiement Stripe: curl -X POST "http://127.0.0.1:8000/api/payment/create-checkout-session" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"user_email\": \"test@example.com\", \"plan_id\": 1}"
# Le webhook (/api/payment/webhook) est appelé par Stripe en arrière-plan pour confirmer le paiement et créer l'abonnement.
# Les URLs /api/payment/success et /api/payment/cancel sont des pages de redirection pour l'utilisateur après le paiement.

--------------------------------------------------Generic Email Notification----------------------------------------------------
Envoyer un email de notification: curl -X POST "http://127.0.0.1:8080/api/notifications/email" -H "Content-Type: application/json" -d "{\"user_email\": \"destinataire@example.com\", \"subject\": \"Sujet de test\", \"message\": \"Ceci est le corps du message de test.\"}"

--------------------------------------------------Generic Push Notification (Firebase)----------------------------------------------------
Envoyer une notification push (sans image): curl -X POST "http://127.0.0.1:8080/api/notifications/push" -H "Content-Type: application/json" -d "{\"token\": \"VOTRE_TOKEN_FCM_ICI\", \"title\": \"Titre de la notification\", \"body\": \"Ceci est le corps de la notification push.\"}"
Envoyer une notification push (avec image): curl -X POST "http://127.0.0.1:8080/api/notifications/push" -H "Content-Type: application/json" -d "{\"token\": \"foB76E9PRy2l4AwmuWtNzf:APA91bGxo6BUPrsNmRuvuhJOAqiOgrpqbzZqi4V5fA17faqk7KoXWXWG3rQz9exKwZv6RCihYPz0vKB7MjATAu-j-sy6NqaMMBE9GMSGCLsWQKXwIob-KGA\", \"title\": \"Titre avec image\", \"body\": \"Notification avec une belle image.\", \"image_url\": \"https://www.notofine.app/icon.png\"}"

--------------------------------------------------Chat Session Management (Firebase Realtime DB)----------------------------------------------------
Initier une session de chat avec l'administrateur: curl -X POST "http://127.0.0.1:8000/chat/sessions/initiate" -H "Content-Type: application/json" -d "{\"user_email\":\"user@example.com\",\"user_name\":\"John Doe\",\"subject\":\"J'ai une question\"}"
Envoyer un message (utilisateur): curl -X POST "http://127.0.0.1:8000/chat/messages/send" -H "Content-Type: application/json" -d "{\"user_email\":\"user@example.com\",\"sender\":\"user\",\"content\":\"Bonjour, j'ai besoin d'aide\"}"
Envoyer un message (admin): curl -X POST "http://127.0.0.1:8000/chat/messages/send" -H "Content-Type: application/json" -d "{\"user_email\":\"user@example.com\",\"sender\":\"admin\",\"content\":\"Bonjour! Comment puis-je vous aider?\"}"
Récupérer les informations d'une session: curl -X GET "http://127.0.0.1:8000/chat/sessions/user@example.com"
Récupérer tous les messages d'une session: curl -X GET "http://127.0.0.1:8000/chat/messages/user@example.com"
Fermer une session de chat: curl -X PUT "http://127.0.0.1:8000/chat/sessions/user@example.com/close"
Lister toutes les sessions de chat (admin): curl -X GET "http://127.0.0.1:8000/chat/sessions"
